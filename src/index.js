"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const nem_library_1 = require("nem-library");
const privFunctions_1 = require("./privFunctions");
const fs = require('fs');
nem_library_1.NEMLibrary.bootstrap(nem_library_1.NetworkTypes.TEST_NET);
const miWalletPass = new nem_library_1.Password('01PrimerTestWallet');
const rutaWallet = 'C:\\_Curso\\CryptoProjects\\bin';
const nombreWalletFile = 'miWallet.wlt';
let fullFileWalletPath = `${rutaWallet}\\${nombreWalletFile}`;
const timestamp = privFunctions_1.timeStampPretty();
const transactionHttp = new nem_library_1.TransactionHttp();
const privateKey = 'c4c40504fded0288455b2dbb02ad47ffba0dbab31a882251391a454905857b9c';
const account = nem_library_1.Account.createWithPrivateKey(privateKey);
const transferTransaction = nem_library_1.TransferTransaction.create(nem_library_1.TimeWindow.createWithDeadline(), new nem_library_1.Address("TASEBRE3OYKZDC5XKAQLAIXXILLLHBQRNSFRMSJP"), new XEM(5), nem_library_1.PlainMessage.create("Programando en el Accelerator Blockchain!!!"));
const signedTransaction = account.signTransaction(transferTransaction);
console.log(signedTransaction);
transactionHttp.announceTransaction(signedTransaction).subscribe(x => console.log(x));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVVBLDZDQUVrRDtBQUdsRCxtREFBa0Q7QUFLbEQsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBR3pCLHdCQUFVLENBQUMsU0FBUyxDQUFDLDBCQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7QUFHNUMsTUFBTSxZQUFZLEdBQUcsSUFBSSxzQkFBUSxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUE4Q3hELE1BQU0sVUFBVSxHQUFHLGlDQUFpQyxDQUFDO0FBRXJELE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxDQUFDO0FBQ3hDLElBQUksa0JBQWtCLEdBQUcsR0FBRyxVQUFVLEtBQUssZ0JBQWdCLEVBQUUsQ0FBQztBQUM5RCxNQUFNLFNBQVMsR0FBRywrQkFBZSxFQUFFLENBQUM7QUEwSnBDLE1BQU0sZUFBZSxHQUFHLElBQUksNkJBQWUsRUFBRSxDQUFDO0FBSzlDLE1BQU0sVUFBVSxHQUFXLGtFQUFrRSxDQUFDO0FBRzlGLE1BQU0sT0FBTyxHQUFHLHFCQUFPLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLENBQUM7QUFHekQsTUFBTSxtQkFBbUIsR0FBRyxpQ0FBbUIsQ0FBQyxNQUFNLENBQ2xELHdCQUFVLENBQUMsa0JBQWtCLEVBQUUsRUFDL0IsSUFBSSxxQkFBTyxDQUFDLDBDQUEwQyxDQUFDLEVBQ3ZELElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNWLDBCQUFZLENBQUMsTUFBTSxDQUFDLDZDQUE2QyxDQUFDLENBQ3JFLENBQUM7QUFDRixNQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDL0IsZUFBZSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuLy8gUHJpbWVyIGVqZW1wbG8uLi5cclxuLy8gUHJ1ZWJhIGRlIGVudG9ybm8uIEVsIGNsYXNpY28gaGVsbG8gd29ybGQuXHJcblxyXG5jb25zdCBzTWVzc2FnZSA9ICdIZWxsbyB3b3JsZCEhISdcclxuY29uc29sZS5sb2coc01lc3NhZ2UpXHJcblxyXG4qL1xyXG5cclxuLy8gSW1wb3J0YWNpb24gZGUgZGlmZXJlbnRlcyBvYmpldG9zIGRlc2RlIGxhIE5FTSBMaWJyYXJ5XHJcbmltcG9ydCB7TkVNTGlicmFyeSwgTmV0d29ya1R5cGVzLCBQYXNzd29yZCwgU2ltcGxlV2FsbGV0LCBBY2NvdW50SHR0cCwgQWRkcmVzcyxcclxuICAgICAgICBNb3NhaWNIdHRwLCBRdWVyeVBhcmFtcywgVHJhbnNhY3Rpb25IdHRwLCBUaW1lV2luZG93LCBUcmFuc2ZlclRyYW5zYWN0aW9uLFxyXG4gICAgICAgIFBsYWluTWVzc2FnZSwgQWNjb3VudH0gZnJvbSAnbmVtLWxpYnJhcnknO1xyXG5cclxuLy8gSW1wb3J0YWNpb24gZGUgbW9kdWxvIGNvbiBmdW5jaW9uZXMgdXRpbGVzXHJcbmltcG9ydCB7IHRpbWVTdGFtcFByZXR0eSB9IGZyb20gJy4vcHJpdkZ1bmN0aW9ucyc7XHJcblxyXG4vLyBEaXNwb25pYmlsaXphY2lvbiBkZWwgb2JqZXRvIGZzIChmaWxlIHN5c3RlbSkgZW4gbGEgdmFyaWFibGUgZnNcclxuLy8gTHVlZ28gZXN0YSB2YXJpYWJsZSBub3MgcGVybWl0aXJhIGludGVyYWN0dWFyIGNvbiBlbCBzaXN0ZW1hIGRlXHJcbi8vIGFyY2hpdm9zIGRlbCBzaXN0ZW1hIG9wZXJhdGl2b1xyXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcblxyXG4vLyBDb25maWd1cmFjaW9uIGRlIGxhIHJlZCBkZSBORU0gc29icmUgbGEgcXVlIHF1ZXJlbW9zIHRyYWJhamFyXHJcbk5FTUxpYnJhcnkuYm9vdHN0cmFwKE5ldHdvcmtUeXBlcy5URVNUX05FVCk7XHJcblxyXG4vLyBWYXJpYWJsZSBwYXJhIHJlc2d1YXJkYXIgZWwgcGFzc3dvcmRcclxuY29uc3QgbWlXYWxsZXRQYXNzID0gbmV3IFBhc3N3b3JkKCcwMVByaW1lclRlc3RXYWxsZXQnKTtcclxuLy8gVENHT0lFUEtTTFRYNlQyRU5NVVlUNDNIMlpITUVDSEU2Q1BXRFE2TlxyXG4vLyBUQ0dPSUUtUEtTTFRYLTZUMkVOTS1VWVQ0M0gtMlpITUVDLUhFNkNQVy1EUTZOXHJcblxyXG4vKlxyXG4vLyBTZWd1bmRvIEVqZW1wbG8uLi5cclxuLy8gQ3JlYWNpb24gZGUgdW5hIHdhbGxldC5cclxuXHJcbmNvbnN0IHRzdFdhbGxldCA9IFNpbXBsZVdhbGxldC5jcmVhdGUoJ1dhbGxldCBUZXN0JywgbWlXYWxsZXRQYXNzKTtcclxuY29uc29sZS5sb2coJ0EgY29udGludWFjaW9uIGxhIGluZm9ybWFjaW9uIGRlIGxhIHdhbGxldCBjcmVhZGE6XFxuJyk7XHJcbmNvbnNvbGUubG9nKHRzdFdhbGxldCk7XHJcbmNvbnNvbGUubG9nKCdcXG4nKTtcclxuKi9cclxuXHJcbi8qXHJcbi8vIFRlcmNlciBFamVtcGxvXHJcbi8vIENvbnN1bHRhIGxhcyB0cmFuc2FjY2lvbmVzIGRlIHVuYSBjdWVudGEuXHJcbi8vIE9qbyBjb24gZWwgY29tcG9ydGFtaWVudG8gYXNpbmNyb25vLiBWZXIgcXVlIHN1Y2VkZSBlbnRyZSBsYSBpbXByZXNpb24gZGUgbGFzIHRyYW5zYWNjaW9uZXMgeSBlbCBtZW5zYWplIGRlIGZpbiB5IHNhbGlkYVxyXG5cclxuY29uc3QgbXlBZGRyZXNzID0gbmV3IEFkZHJlc3MoJ1RCSVVRTU9HSFVIN0dONUxNNjJDUTVDSTRKRVhNV1U0NTVJUEhJWVonKTtcclxuXHJcbmNvbnNvbGUubG9nKCc9PT4+UmVhbGl6YW5kbyB1bmEgY29uc3VsdGEgYSBsYSBURVNUTkVULi4uXFxuJylcclxuY29uc3QgYWNjb3VudEh0dHAgPSBuZXcgQWNjb3VudEh0dHAoKTtcclxuXHJcbmFjY291bnRIdHRwLmFsbFRyYW5zYWN0aW9ucyhteUFkZHJlc3MpXHJcbi5zdWJzY3JpYmUoYWxsVHJhbnNhY3Rpb25zID0+IHtcclxuXHRjb25zb2xlLmxvZyhhbGxUcmFuc2FjdGlvbnMpO1xyXG59KTtcclxuXHJcbmNvbnNvbGUubG9nKCdcXG49PT4+VGVybWluYW5kbyB5IHNhbGllbmRvLi4uXFxuJylcclxuXHJcblxyXG4vLyBPdHJvIGVqZW1wbG8uXHJcbi8vIENvbnN1bHRhbmRvIHRvZG9zIGxvcyBtb3NhaWNvcyBkZW50cm8gZGUgdW4gTmFtZVNwYWNlIGRhZG8sIGVuIGVzdGUgY2FzbyBcImRvY3RhXCJcclxuY29uc29sZS5sb2coJz09Pj5SZWFsaXphbmRvIHVuYSBjb25zdWx0YSBzb2JyZSBtb3NhaWNvcy4uLlxcbicpXHJcbmNvbnN0IG1vc2FpY0h0dHAgPSBuZXcgTW9zYWljSHR0cCgpO1xyXG5jb25zdCBuYW1lU3BhY2U9J2RvY3RhX3Rlc3QnO1xyXG5cclxubW9zYWljSHR0cC5nZXRBbGxNb3NhaWNzR2l2ZW5OYW1lc3BhY2UobmFtZVNwYWNlKS5zdWJzY3JpYmUobW9zYWljRGVmaW5pdGlvbnMgPT4ge1xyXG5cdGNvbnNvbGUubG9nKG1vc2FpY0RlZmluaXRpb25zKTtcclxufSk7XHJcblxyXG5jb25zb2xlLmxvZygnXFxuPT0+PlRlcm1pbmFuZG8geSBzYWxpZW5kby4uLlxcbicpXHJcbiovXHJcblxyXG4vLyBWYXJpYWJsZSBkb25kZSBzZSBhbG1hY2VuYSBsYSBydXRhIGRvbmRlIHNlIHZhIGEgZXNjcmliaXIgZWwgYXJjaGl2byBkZSBsYSB3YWxsZXQgY3JlYWRhLlxyXG5jb25zdCBydXRhV2FsbGV0ID0gJ0M6XFxcXF9DdXJzb1xcXFxDcnlwdG9Qcm9qZWN0c1xcXFxiaW4nO1xyXG4vLyBWYXJpYWJsZSBxdWUgcmVnaXN0cmEgZWwgbm9tYnJlIGRlbCBhcmNoaXZvIGRlIGxhIHdhbGxldCBhIGd1YXJkYXJcclxuY29uc3Qgbm9tYnJlV2FsbGV0RmlsZSA9ICdtaVdhbGxldC53bHQnO1xyXG5sZXQgZnVsbEZpbGVXYWxsZXRQYXRoID0gYCR7cnV0YVdhbGxldH1cXFxcJHtub21icmVXYWxsZXRGaWxlfWA7XHJcbmNvbnN0IHRpbWVzdGFtcCA9IHRpbWVTdGFtcFByZXR0eSgpO1xyXG5cclxuLypcclxuLy8gQ3VhcnRvIEVqZW1wbG9cclxuLy8gU2FsdmFyIGVuIGRpc2NvIHVuYSB3YWxsZXRcclxuXHJcbmNvbnNvbGUubG9nKCc9PT4+U2FsdmFuZG8gbGEgd2FsbGV0Li4uXFxuJylcclxuXHJcbi8vU2UgdmVyaWZpY2Egc2kgeWEgZXhpc3RlIHVuYSB3YWxsZXRcclxuaWYgKGZzLmV4aXN0c1N5bmMoZnVsbEZpbGVXYWxsZXRQYXRoKSl7XHJcblx0Ly8gU2UgZXhpc3RlIHVuIGFyY2hpdm8gZGUgd2FsbGV0LCBzZSBjYW1iaWEgZWwgbm9tYnJlIHVzYW5kbyB1biB0aW1lc3RhbXBcclxuXHRmdWxsRmlsZVdhbGxldFBhdGggPSBgJHtydXRhV2FsbGV0fVxcXFwke3RpbWVzdGFtcH1fJHtub21icmVXYWxsZXRGaWxlfWA7XHJcbn07XHJcblxyXG4vLyBTZSBwYXNhIGxhIHdhbGxldCBkZSBORU0gYSB1biBzdHJpbmcgdWUgbHVlZ28gcHVlZGUgc2VyIFwiYmFqYWRvXCIgYSBkaXNjb1xyXG5jb25zdCB3YWxsZXRTdHJpbmcgPSB0c3RXYWxsZXQud3JpdGVXTFRGaWxlKCk7XHJcblxyXG4vLyBMYSBzaWd1aWVudGUgbGluZWEgZXMgbGEgcXVlIFwiYmFqYSBhIGRpc2NvXCIgZWwgXCJzdHJpbmdcIiBkZSBsYSB3YWxsZXQgZGUgTkVNIGNyZWFkYVxyXG5mcy53cml0ZUZpbGVTeW5jKGZ1bGxGaWxlV2FsbGV0UGF0aCwgd2FsbGV0U3RyaW5nKTtcclxuY29uc29sZS5sb2coYFxcbj09Pj5MYSB3YWxsZXQgc2UgZ3VhcmRvIGV4aXRvc2FtZW50ZSBlbjogJHtmdWxsRmlsZVdhbGxldFBhdGh9XFxuYCk7XHJcblxyXG4vLyAvLyBFc2NyaWJpZW5kbyBlbCBhcmNoaXZvIGRlIGxhIHdhbGxldCwgcGVybyBlc3RhIHZleiBkZSBmb3JtYSBhc2luY3JvbmEuXHJcbi8vIGZzLndyaXRlRmlsZShgJHtmdWxsRmlsZVdhbGxldFBhdGh9YCwgd2FsbGV0U3RyaW5nLCAoZXJyKSA9PiB7XHJcbi8vICAgICAvLyBTaSBsYSBlc2NyaXR1cmEgZGUgbGEgd2FsbGV0IGRhIGVycm9yLCBzZSBjYXB0dXJhIGVsIGVycm9yXHJcbi8vICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XHJcbi8vXHJcbi8vICAgICAvLyBzaSB2YSB0b2RvIGJpZW4sIHNlIGRhIHVuIG1lbnNhamUgZGUgZXhpdG9cclxuLy8gICAgIGNvbnNvbGUubG9nKGBcXG49PT4+TGEgd2FsbGV0IHNlIGd1YXJkbyBleGl0b3NhbWVudGUgZW46ICR7cnV0YVdhbGxldH0ke25vbWJyZVdhbGxldEZpbGV9XFxuYClcclxuLy8gfSk7XHJcbiovXHJcblxyXG4vKlxyXG4vLyBRdWludG8gRWplbXBsb1xyXG4vLyBMZXllbmRvIHVuYSB3YWxsZXQgZGVzZGUgZWwgZGlzY29cclxuXHJcblxyXG4vLyBMZXllbmRvIGVsIGFyY2hpdm8gZGUgbGEgd2FsbGV0Li4uXHJcbmNvbnNvbGUubG9nKCdDYXJnYW5kbyBlbCBjb250ZW5pZG8gZGVsIGFyY2hpdm8gKGVuIGNydWRvKSBkZSBsYSB3YWxsZXQgZW4gdW5hIHZhcmlhYmxlXFxuJyk7XHJcbmNvbnN0IHRtcFN0ck1pV2FsbGV0ID0gZnMucmVhZEZpbGVTeW5jKGAke2Z1bGxGaWxlV2FsbGV0UGF0aH1gLCAndXRmOCcpO1xyXG5jb25zb2xlLmxvZygnXFxuRWwgYXJjaGl2byBcInB1cm9cIiBkZSBsYSB3YWxsZXQgY29udGllbmU6XFxuJyk7XHJcbmNvbnNvbGUubG9nKHRtcFN0ck1pV2FsbGV0KTtcclxuY29uc29sZS5sb2coJ1xcbicpO1xyXG5cclxuXHJcbi8vIFNpIGxhIHdhbGxldCBhIGxlZXIgZnVlIGNyZWFkYSBkZSBtYW5lcmEgc2VuY2lsbGEsIGVzIGRlY2lyLCBzaW4gdXNhciBsYSBcIk5hbm8gV2FsbGV0XCIuXHJcbmNvbnN0IG1pV2FsbGV0ID0gU2ltcGxlV2FsbGV0LnJlYWRGcm9tV0xUKHRtcFN0ck1pV2FsbGV0KTtcclxuXHJcbi8vIFNpIGxhIHdhbGxldCBhIGxlZXIgZnVlIGNyZWFkYSBjb24gbGEgXCJOYW5vIFdhbGxsZXRcIlxyXG4vL2NvbnN0IG1pV2FsbGV0ID0gU2ltcGxlV2FsbGV0LnJlYWRGcm9tTmFub1dhbGxldFdMRih0bXBTdHJNaVdhbGxldCk7XHJcblxyXG5jb25zb2xlLmxvZygnXFxuRWwgY29udGVuaWRvIGRlIGxhIHdhbGxldCBzZWd1biBORU0gZXM6XFxuJyk7XHJcbmNvbnNvbGUubG9nKG1pV2FsbGV0KTtcclxuY29uc29sZS5sb2coJ1xcbicpO1xyXG5cclxuY29uc29sZS5sb2coJ1xcbkFicmllbmRvIGxhIHdhbGxldCBwYXJhIHZlciBsYSBpbmZvcm1hY2lvbiBkZXRhbGxhZGEgZGUgbGEgbWlzbWE6XFxuJyk7XHJcbmNvbnN0IG1pQ3VlbnRhID0gbWlXYWxsZXQub3BlbihtaVdhbGxldFBhc3MpO1xyXG5jb25zb2xlLmxvZygnXFxuTGEgaW5mb3JtYWNpb24gZGUgbGEgY3VlbnRhIGNvbnRlbmlkYSBlbiBsYSB3YWxsZXQgZXM6XFxuJyk7XHJcbmNvbnNvbGUubG9nKG1pQ3VlbnRhKTtcclxuY29uc29sZS5sb2coJ1xcbicpO1xyXG5cclxuXHJcbi8vIEV4dHJhZSBsYSBhZGRyZXNzIG8gZGlyZWNjaW9uIGRlIGxhIHdhbGxldC5cclxuLy8gTGEgYWRkcmVzcyBzZSBwdWVkZSBleHRyYWVyIGRlIGxhIG1pc21hIHdhbGxldCBvIGRlIGxhIGN1ZW50YVxyXG5jb25zdCBteUFkZHJlc3MgPSBtaVdhbGxldC5hZGRyZXNzO1xyXG5jb25zb2xlLmxvZygnTGEgYWRkcmVzcyBvIGRpcmVjY2lvbiBkZSBsYSBjdWVudGEgY29udGVuaWRhIGVuIGxhIHdhbGxldCBlczpcXG4nKTtcclxuY29uc29sZS5sb2cobXlBZGRyZXNzLnByZXR0eSgpKTtcclxuY29uc29sZS5sb2coJ1xcbicpO1xyXG4qL1xyXG5cclxuLypcclxuLy8gU2V4dG8gRWplbXBsb1xyXG4vLyBFbnZpYXIgdG9rZW5cclxuXHJcbi8vIENyZWEgdW5hIHRyYXNuc2FjY2lvblxyXG5jb25zdCB0cmFuc2FjdGlvbkh0dHAgPSBuZXcgVHJhbnNhY3Rpb25IdHRwKCk7XHJcblxyXG4vLyBTZSBndWFyZGEgZW4gdW5hIHZhcmlhYmxlIHRlbXBvcmFsIGxhIGNsYXZlIHByaXZhZGEgZGUgcXVpZW4gZW52aWFcclxuLy8gTG8gaW50ZXJlc2FudGUgc2VyaWEgYWJyaXIgbGEgd2FsbGV0LCBzYWNhciBsYSBkYXRhIHkgY29uIGVzdGEgZGF0YSBmaXJtYXIgbGEgdHJhbnNhY2Npb24uXHJcbi8vY29uc3QgcHJpdmF0ZUtleTogc3RyaW5nID0gcHJvY2Vzcy5lbnYuUFJJVkFURV9LRVk7XHJcbmNvbnN0IHByaXZhdGVLZXk6IHN0cmluZyA9IFwiMzliZWQwYTJhYTI3YWVlZGQ3Mzc0Nzg4Y2NlZmE2NDRkNzhjMjVmOGNiMWUwNmI2MDgwYzk2YWRmNmIzMmNhYVwiO1xyXG5cclxuLy8gQ3JlYSB1bmEgY3VlbnRhIGNvbiBsYSBjbGF2ZSBwcml2YWRhLlxyXG5jb25zdCBhY2NvdW50ID0gQWNjb3VudC5jcmVhdGVXaXRoUHJpdmF0ZUtleShwcml2YXRlS2V5KTtcclxuXHJcbi8vY29uc3QgdHJhbnNmZXJUcmFuc2FjdGlvbiA9IFRyYW5zZmVyVHJhbnNhY3Rpb24uY3JlYXRlKFxyXG4vLyAgICBUaW1lV2luZG93LmNyZWF0ZVdpdGhEZWFkbGluZSgpLFxyXG4vLyAgICBuZXcgQWRkcmVzcyhcIlRBU0VCUi1FM09ZS1otREM1WEtBLVFMQUlYWC1JTExMSEItUVJOU0ZSLU1TSlBcIiksXHJcbi8vICAgIG5ldyBYRU0oMCksXHJcbi8vICAgIFBsYWluTWVzc2FnZS5jcmVhdGUoXCJBIHZlciBzaSBsbGVnYSBlbCBtZW5zYWplLi4uXCIpXHJcbi8vKTtcclxuXHJcbi8vIENyZWEgdW5hIHRyYW5zYWNjaW9uIHkgbGEgZW52aWEuLi5cclxuY29uc3QgdHJhbnNmZXJUcmFuc2FjdGlvbiA9IFRyYW5zZmVyVHJhbnNhY3Rpb24uY3JlYXRlKFxyXG4gICAgVGltZVdpbmRvdy5jcmVhdGVXaXRoRGVhZGxpbmUoKSxcclxuICAgIG5ldyBBZGRyZXNzKFwiVERVN0xKRkY1U1o2UkEzV09QTjU0SE1OUjJRTE81WEkzV0RWTklIM1wiKSxcclxuICAgIG5ldyBYRU0oNSksXHJcbiAgICBQbGFpbk1lc3NhZ2UuY3JlYXRlKFwiUHJvZ3JhbWFuZG8gZW4gZWwgQWNjZWxlcmF0b3IgQmxvY2tjaGFpbiEhIVwiKVxyXG4pO1xyXG5cclxuY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb24gPSBhY2NvdW50LnNpZ25UcmFuc2FjdGlvbih0cmFuc2ZlclRyYW5zYWN0aW9uKTtcclxuXHJcbmNvbnNvbGUubG9nKHNpZ25lZFRyYW5zYWN0aW9uKTtcclxuXHJcbnRyYW5zYWN0aW9uSHR0cC5hbm5vdW5jZVRyYW5zYWN0aW9uKHNpZ25lZFRyYW5zYWN0aW9uKS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XHJcbiovXHJcblxyXG4vKlxyXG4vLyBTZXB0aW1vIEVqZW1wbG9cclxuLy8gUmV2aXNhciBiYWxhbmNlc1xyXG5cclxuXHJcbi8vIFJldmlzYXIgYmFsYW5jZSBkZSBYRU1cclxuLy8gUmV2aXNhciBibGFuY2VzIGRlIE1PU0FJQ3NcclxuXHJcbmNvbnN0IG15QWNjb3VudCA9IG5ldyBBY2NvdW50SHR0cCgpO1xyXG5teUFjY291bnQuZ2V0TW9zYWljT3duZWRCeUFkZHJlc3MobXlBZGRyZXNzKS5zdWJzY3JpYmUobW9zYWljcyA9PiB7XHJcbiAgY29uc3QgeGVtTW9zYWljID0gbW9zYWljcy5maW5kKChtb3NhaWMpID0+IHtcclxuXHRcdHJldHVybiBtb3NhaWMubW9zYWljSWQubmFtZSA9PT0gJ3hlbSc7XHJcblx0fSk7XHJcblx0aWYgKCF4ZW1Nb3NhaWMpIHtcclxuICAgIGNvbnNvbGUubG9nKCdMYSBjYW50aWRhZCBYRU0gZXM6IDAnKTtcclxuICB9IGVsc2Uge1xyXG5cdCAgIGNvbnNvbGUubG9nKGBMYSBjYW50aWRhZCBYRU0gZXM6ICR7eGVtTW9zYWljLnF1YW50aXR5IC8gMWU2fWApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRvY3RhTW9zYWljID0gbW9zYWljcy5maW5kKChtb3NhaWMpID0+IHtcclxuICAgIHJldHVybiBtb3NhaWMubW9zYWljSWQubmFtZSA9PT0gJ2RvY3RhdHN0JztcclxuICB9KTtcclxuICBpZiAoIWRvY3RhTW9zYWljKSB7XHJcbiAgICBjb25zb2xlLmxvZygnTGEgY2FudGlkYWQgZG9jdGF0c3QgZXM6IDAnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgIGNvbnNvbGUubG9nKGBMYSBjYW50aWRhZCBkb2N0YXRzdCBlczogJHtkb2N0YU1vc2FpYy5xdWFudGl0eSAvIDFlNn1gKTtcclxuICB9O1xyXG59KTtcclxuKi9cclxuXHJcbi8qXHJcbi8vIE9jdGF2byBFamVtcGxvXHJcbi8vIEhhY2VyIHRyYW5zYWNjaW9uZXNcclxuKi9cclxuXHJcbi8vIERldiBBY2NvdW50XHJcbi8vIEFjY291bnQge1xyXG4vLyAgIGFkZHJlc3M6IEFkZHJlc3Mge1xyXG4vLyAgICAgdmFsdWU6ICdUQ0dPSUVQS1NMVFg2VDJFTk1VWVQ0M0gyWkhNRUNIRTZDUFdEUTZOJyxcclxuLy8gICAgIG5ldHdvcmtUeXBlOiAxNTJcclxuLy8gICB9LFxyXG4vLyAgIHB1YmxpY0tleTogJzk1MGM4Yzk5MzA5ZDYyNDgxZDI3ZWU2NzM2MTJkMmY5YzY2OTZiNTk2MjEzODRmYTdmNDYxZjE3NmZmZmI1OWQnLFxyXG4vLyAgIHByaXZhdGVLZXk6ICdjNGM0MDUwNGZkZWQwMjg4NDU1YjJkYmIwMmFkNDdmZmJhMGRiYWIzMWE4ODIyNTEzOTFhNDU0OTA1ODU3YjljJ1xyXG4vLyB9XHJcbi8vXHJcbi8vIFRBU0VCUkUzT1lLWkRDNVhLQVFMQUlYWElMTExIQlFSTlNGUk1TSlAgPT0+PiBFc3RhIGVzIG1pIG5hbm93YWxsZXQgRG9jdGFcclxuXHJcbi8vIENyZWEgdW5hIHRyYXNuc2FjY2lvblxyXG5jb25zdCB0cmFuc2FjdGlvbkh0dHAgPSBuZXcgVHJhbnNhY3Rpb25IdHRwKCk7XHJcblxyXG4vLyBTZSBndWFyZGEgZW4gdW5hIHZhcmlhYmxlIHRlbXBvcmFsIGxhIGNsYXZlIHByaXZhZGEgZGUgcXVpZW4gZW52aWFcclxuLy8gTG8gaW50ZXJlc2FudGUgc2VyaWEgYWJyaXIgbGEgd2FsbGV0LCBzYWNhciBsYSBkYXRhIHkgY29uIGVzdGEgZGF0YSBmaXJtYXIgbGEgdHJhbnNhY2Npb24uXHJcbi8vY29uc3QgcHJpdmF0ZUtleTogc3RyaW5nID0gcHJvY2Vzcy5lbnYuUFJJVkFURV9LRVk7XHJcbmNvbnN0IHByaXZhdGVLZXk6IHN0cmluZyA9ICdjNGM0MDUwNGZkZWQwMjg4NDU1YjJkYmIwMmFkNDdmZmJhMGRiYWIzMWE4ODIyNTEzOTFhNDU0OTA1ODU3YjljJztcclxuXHJcbi8vIENyZWEgdW5hIGN1ZW50YSBjb24gbGEgY2xhdmUgcHJpdmFkYS5cclxuY29uc3QgYWNjb3VudCA9IEFjY291bnQuY3JlYXRlV2l0aFByaXZhdGVLZXkocHJpdmF0ZUtleSk7XHJcblxyXG4vLyBDcmVhIHVuYSB0cmFuc2FjY2lvbiB5IGxhIGVudmlhLi4uXHJcbmNvbnN0IHRyYW5zZmVyVHJhbnNhY3Rpb24gPSBUcmFuc2ZlclRyYW5zYWN0aW9uLmNyZWF0ZShcclxuICAgIFRpbWVXaW5kb3cuY3JlYXRlV2l0aERlYWRsaW5lKCksXHJcbiAgICBuZXcgQWRkcmVzcyhcIlRBU0VCUkUzT1lLWkRDNVhLQVFMQUlYWElMTExIQlFSTlNGUk1TSlBcIiksXHJcbiAgICBuZXcgWEVNKDUpLFxyXG4gICAgUGxhaW5NZXNzYWdlLmNyZWF0ZShcIlByb2dyYW1hbmRvIGVuIGVsIEFjY2VsZXJhdG9yIEJsb2NrY2hhaW4hISFcIilcclxuKTtcclxuY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb24gPSBhY2NvdW50LnNpZ25UcmFuc2FjdGlvbih0cmFuc2ZlclRyYW5zYWN0aW9uKTtcclxuY29uc29sZS5sb2coc2lnbmVkVHJhbnNhY3Rpb24pO1xyXG50cmFuc2FjdGlvbkh0dHAuYW5ub3VuY2VUcmFuc2FjdGlvbihzaWduZWRUcmFuc2FjdGlvbikuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xyXG4iXX0=